(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const ee="modulepreload",te=function(t){return"/"+t},M={},U=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=u(n.map(d=>{if(d=te(d),d in M)return;M[d]=!0;const m=d.endsWith(".css"),l=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":ee,m||(c.as="script"),c.crossOrigin="",c.href=d,a&&c.setAttribute("nonce",a),document.head.appendChild(c),m)return new Promise((L,w)=>{c.addEventListener("load",L),c.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})};var E;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(E||(E={}));class x extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const ne=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},re=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},i=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:ne(t),r=()=>s()!=="web",o=l=>{const c=d.get(l);return!!(c?.platforms.has(s())||a(l))},a=l=>{var c;return(c=n.PluginHeaders)===null||c===void 0?void 0:c.find(L=>L.name===l)},u=l=>t.console.error(l),d=new Map,m=(l,c={})=>{const L=d.get(l);if(L)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),L.proxy;const w=s(),P=a(l);let y;const X=async()=>(!y&&w in c?y=typeof c[w]=="function"?y=await c[w]():y=c[w]:e!==null&&!y&&"web"in c&&(y=typeof c.web=="function"?y=await c.web():y=c.web),y),Y=(f,h)=>{var p,v;if(P){const b=P?.methods.find(g=>h===g.name);if(b)return b.rtype==="promise"?g=>n.nativePromise(l,h.toString(),g):(g,O)=>n.nativeCallback(l,h.toString(),g,O);if(f)return(p=f[h])===null||p===void 0?void 0:p.bind(f)}else{if(f)return(v=f[h])===null||v===void 0?void 0:v.bind(f);throw new x(`"${l}" plugin is not implemented on ${w}`,E.Unimplemented)}},A=f=>{let h;const p=(...v)=>{const b=X().then(g=>{const O=Y(g,f);if(O){const S=O(...v);return h=S?.remove,S}else throw new x(`"${l}.${f}()" is not implemented on ${w}`,E.Unimplemented)});return f==="addListener"&&(b.remove=async()=>h()),b};return p.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(p,"name",{value:f,writable:!1,configurable:!1}),p},j=A("addListener"),D=A("removeListener"),Z=(f,h)=>{const p=j({eventName:f},h),v=async()=>{const g=await p;D({eventName:f,callbackId:g},h)},b=new Promise(g=>p.then(()=>g({remove:v})));return b.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await v()},b},k=new Proxy({},{get(f,h){switch(h){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?Z:j;case"removeListener":return D;default:return A(h)}}});return i[l]=k,d.set(l,{name:l,proxy:k,platforms:new Set([...Object.keys(c),...P?[w]:[]])}),k};return n.convertFileSrc||(n.convertFileSrc=l=>l),n.getPlatform=s,n.handleError=u,n.isNativePlatform=r,n.isPluginAvailable=o,n.registerPlugin=m,n.Exception=x,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},se=t=>t.Capacitor=re(t),I=se(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),T=I.registerPlugin;class B{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),i&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const s=this.listeners[e];if(!s){if(i){let r=this.retainedEventArguments[e];r||(r=[]),r.push(n),this.retainedEventArguments[e]=r}return}s.forEach(r=>r(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new I.Exception(e,E.Unimplemented)}unavailable(e="not available"){return new I.Exception(e,E.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const s=i.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const F=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),H=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ie extends B{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[s,r]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=H(s).trim(),r=H(r).trim(),n[s]=r}),n}async setCookie(e){try{const n=F(e.key),i=F(e.value),s=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",r=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${s}; path=${r}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}T("CapacitorCookies",{web:()=>new ie});const oe=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const s=i.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>n(s),i.readAsDataURL(t)}),ae=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,r,o)=>(s[r]=t[e[o]],s),{})},ce=(t,e=!0)=>t?Object.entries(t).reduce((i,s)=>{const[r,o]=s;let a,u;return Array.isArray(o)?(u="",o.forEach(d=>{a=e?encodeURIComponent(d):d,u+=`${r}=${a}&`}),u.slice(0,-1)):(a=e?encodeURIComponent(o):o,u=`${r}=${a}`),`${i}&${u}`},"").substr(1):null,le=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=ae(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))r.set(o,a);n.body=r.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const r=new FormData;if(t.data instanceof FormData)t.data.forEach((a,u)=>{r.append(u,a)});else for(const a of Object.keys(t.data))r.append(a,t.data[a]);n.body=r;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class de extends B{async request(e){const n=le(e,e.webFetchExtra),i=ce(e.params,e.shouldEncodeUrlParams),s=i?`${e.url}?${i}`:e.url,r=await fetch(s,n),o=r.headers.get("content-type")||"";let{responseType:a="text"}=r.ok?e:{};o.includes("application/json")&&(a="json");let u,d;switch(a){case"arraybuffer":case"blob":d=await r.blob(),u=await oe(d);break;case"json":u=await r.json();break;default:u=await r.text()}const m={};return r.headers.forEach((l,c)=>{m[c]=l}),{data:u,headers:m,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}T("CapacitorHttp",{web:()=>new de});var q;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(q||(q={}));var G;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(G||(G={}));class ue extends B{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}T("SystemBars",{web:()=>new ue});const fe=T("App",{web:()=>U(()=>import("./web-Bn6Xwoa7.js"),[]).then(t=>new t.AppWeb)});var V;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(V||(V={}));const $=T("LocalNotifications",{web:()=>U(()=>import("./web-lDnSnGCw.js"),[]).then(t=>new t.LocalNotificationsWeb)});class he{constructor(e){this.timerId=null,this.targetTime=null,this.duration=0,this.isRunning=!1,this.onTick=e.onTick||(()=>{}),this.onComplete=e.onComplete||(()=>{}),this.onCancel=e.onCancel||(()=>{}),fe.addListener("appStateChange",({isActive:n})=>{n&&this.isRunning&&this.checkBackgroundTime()})}async start(e){this.isRunning||(this.duration=e*60*1e3,this.targetTime=Date.now()+this.duration,this.isRunning=!0,await this.scheduleNotification(),this.startInterval())}stop(e=!1){this.isRunning=!1,this.targetTime=null,this.timerId&&(clearInterval(this.timerId),this.timerId=null),e||($.cancel({notifications:[{id:1}]}),this.onCancel())}startInterval(){this.timerId=setInterval(()=>{this.tick()},1e3),this.tick()}tick(){if(!this.isRunning||!this.targetTime)return;const e=Date.now(),n=this.targetTime-e;n<=0?this.finish():this.onTick(n)}finish(){this.stop(!0),this.onComplete()}checkBackgroundTime(){const e=Date.now();this.targetTime&&e>=this.targetTime?this.finish():this.tick()}async scheduleNotification(){(await $.requestPermissions()).display==="granted"&&await $.schedule({notifications:[{id:1,title:"FocusQuest",body:"Batalha Vencida! O monstro foi derrotado.",schedule:{at:new Date(this.targetTime)},sound:null}]})}}const W=T("Preferences",{web:()=>U(()=>import("./web-D1uVALJn.js"),[]).then(t=>new t.PreferencesWeb)}),z=document.getElementById("timer-display"),_=document.getElementById("btn-start"),R=document.getElementById("btn-giveup"),me=document.getElementById("hero-gold"),ge=document.getElementById("hero-lvl"),J=document.getElementById("monster-hp");let C={gold:0,lvl:1,xp:0};async function pe(){const{value:t}=await W.get({key:"focusQuestSave"});t&&(C=JSON.parse(t),Q())}async function we(){await W.set({key:"focusQuestSave",value:JSON.stringify(C)})}function Q(){me.innerText=C.gold,ge.innerText=C.lvl}const N=new he({onTick:t=>{const e=Math.ceil(t/1e3),n=Math.floor(e/60).toString().padStart(2,"0"),i=(e%60).toString().padStart(2,"0");z.innerText=`${n}:${i}`;const r=e/1500*100;J.style.width=`${r}%`},onComplete:async()=>{C.gold+=50,C.xp+=100,await we(),Q(),alert("VITÓRIA! Você ganhou 50 de Ouro."),K()},onCancel:()=>{alert("Você fugiu da batalha! O monstro riu de você."),K()}});function ye(){_.classList.add("hidden"),R.classList.remove("hidden"),N.start(25)}function ve(){confirm("Tem certeza? O Herói vai perder honra!")&&N.stop()}function K(){z.innerText="25:00",J.style.width="100%",_.classList.remove("hidden"),R.classList.add("hidden")}_.addEventListener("click",ye);R.addEventListener("click",ve);pe();export{B as W};
